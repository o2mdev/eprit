<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- DW6 -->
<head>
<title>EPR Imaging Toolbox Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="epri.css" type="text/css" />

</head>
<body>
<table class="page_header" width = "100%">
  <tr>
    <td class="menu_style" width = "260"><img src="images/logo_200.png" alt="Logo" width="100"></td>
    <td class="menu_style">EPR Imaging Toolbox collection user manual</td>
  </tr>
 </table>
 <table class="page_core" width = "100%"  height="100%">
  <tr class="page_core_tr">
    <td class="page_navigation" width = "260"><table width="100%" class="page_navigation">
<tr><td class="menu_group0">&nbsp;</td></tr>
<tr><td class="menu_group0"><a href='index.html'>About</a></td></tr>
<tr><td class="menu_group0"><a href='general_contribution.html'>Contributions</a></td></tr>
<tr><td class="menu_group0"><a href='general_installation.html'>Installation</a></td></tr>
<tr><td class="menu_group0"><a href='sample_data.html'>Sample data</a></td></tr>
<tr><td class="menu_group0"><a href='radon_toolbox.html'>Radon toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='iradon_toolbox.html'>Iradon toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='common_toolbox.html'>Common toolbox: Algebra</a></td></tr>
<tr><td class="menu_group1"><a href='connected_components.html'>connected_components</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_augment.html'>hmatrix_augment</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_rotate_about.html'>hmatrix_rotate_about</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_rotate_euler.html'>hmatrix_rotate_euler</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_rotate_x.html'>hmatrix_rotate_x</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_rotate_y.html'>hmatrix_rotate_y</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_rotate_z.html'>hmatrix_rotate_z</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_scale.html'>hmatrix_scale</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_scale_get.html'>hmatrix_scale_get</a></td></tr>
<tr><td class="menu_group1"><a href='hmatrix_translate.html'>hmatrix_translate</a></td></tr>
<tr><td class="menu_group1"><a href='htransform_planes.html'>htransform_planes</a></td></tr>
<tr><td class="menu_group1"><a href='htransform_vectors.html'>htransform_vectors</a></td></tr>
<tr><td class="menu_group1"><a href='resample_plane.html'>resample_plane</a></td></tr>
<tr><td class="menu_group1"><a href='reslice_volume.html'>reslice_volume</a></td></tr>
<tr><td class="menu_group1"><a href='generate_slice_coordinates.html'>generate_slice_coordinates</a></td></tr>
<tr><td class="menu_group1"><a href='generate_image_coordinates.html'>generate_image_coordinates</a></td></tr>
<tr><td class="menu_group1"><a href='largest_component.html'>largest_component</a></td></tr>
<tr><td class="menu_group1 menu_selected"><a href='outside_mask3.html'>outside_mask3</a></td></tr>
<tr><td class="menu_group0"><a href='common_toolbox_other.html'>Common toolbox: Other</a></td></tr>
<tr><td class="menu_group0"><a href='epri_toolbox.html'>EPRI toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='ibgui_toolbox.html'>ibGUI toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='arbuzgui_toolbox.html'>ArbuzGUI toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='processgui_toolbox.html'>ProcessGUI toolbox</a></td></tr>
<tr><td class="menu_group0"><a href='utilities.html'>Useful utilities</a></td></tr>
<tr><td class="menu_group0"><a href='used_toolboxes.html'>Toolboxes used</a></td></tr>
<tr><td class="menu_group0"><a href='helpmanual.html'>This help</a></td></tr>
</table>
</td>
    <td class="page_content text_main" ><p class="func_name">outside_mask3</p><hr><p class="func_descript"Find outside mask of the largest object</p>

<p class="matlab_syntax_caption">Syntax:</p>
<p class="matlab_syntax">outmask=<b>outside_mask3</b>(image)
outmask=<b>outside_mask3</b>(image,threshold)</p>


<p class="matlab_desc_caption">Description:</p>
<p class="matlab_description">Finds outside mask of the largest object. Internal holes of the object
are filled.
<img height = "150" src="images/outside_mask3.png">
<span class="structure_field">image</span> - (matrix, 2D or 3D)
<span class="structure_field">threshold</span> - a value that separates noise and objects (float, 0.1 by default)
<span class="structure_field">outmask</span> - largest component (boolean, the same dimension as image)</p>



<p class="matlab_example_caption">Example:</p>
<p class="matlab_code">bkg = <span class="matlab_function">zeros</span>(<span class="matlab_value">200</span>,<span class="matlab_value">200</span>);
[X,Y] = <span class="matlab_function">meshgrid</span>(<span class="matlab_value">1</span>:<span class="matlab_value">200</span>,<span class="matlab_value">1</span>:<span class="matlab_value">200</span>);
bkg((X-<span class="matlab_value">100</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> <span class="matlab_value">+</span> (Y-<span class="matlab_value">100</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> < <span class="matlab_value">10</span>^<span class="matlab_value">2</span>) = <span class="matlab_value">1</span>;
bkg((X-<span class="matlab_value">150</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> <span class="matlab_value">+</span> (Y-<span class="matlab_value">150</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> < <span class="matlab_value">30</span>^<span class="matlab_value">2</span>) = <span class="matlab_value">1</span>;
bkg((X-<span class="matlab_value">148</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> <span class="matlab_value">+</span> (Y-<span class="matlab_value">156</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> < <span class="matlab_value">7</span>^<span class="matlab_value">2</span>) = <span class="matlab_value">0</span>;
bkg((X-<span class="matlab_value">155</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> <span class="matlab_value">+</span> (Y-<span class="matlab_value">141</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> < <span class="matlab_value">7</span>^<span class="matlab_value">2</span>) = <span class="matlab_value">0</span>;
bkg((X-<span class="matlab_value">50</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> <span class="matlab_value">+</span> (Y-<span class="matlab_value">100</span>)<span class="matlab_value">.</span>^<span class="matlab_value">2</span> < <span class="matlab_value">20</span>^<span class="matlab_value">2</span>) = <span class="matlab_value">1</span>;
figure;
<span class="matlab_function">subplot</span>(<span class="matlab_value">1</span>,<span class="matlab_value">2</span>,<span class="matlab_value">1</span>); <span class="matlab_function">imagesc</span>(bkg, [<span class="matlab_value">0</span>,<span class="matlab_value">1</span>]); axis image
<span class="matlab_comment">% Find the largest component</span>
component = <a href="outside_mask3.html" class="eprit_function">outside_mask3</a>(bkg, <span class="matlab_value">0.5</span>);
<span class="matlab_function">subplot</span>(<span class="matlab_value">1</span>,<span class="matlab_value">2</span>,<span class="matlab_value">2</span>); <span class="matlab_function">imagesc</span>(component, [<span class="matlab_value">0</span>,<span class="matlab_value">1</span>]); axis image</p>
<p class="matlab_example_legend">Legend: <span class="eprit_function">EPR-IT functions</span>; <span class="matlab_function">MATLAB functions</span>; <span class="matlab_comment">comments</span>.</p>
</td>
  </tr>
 </table> 
</body>
</html>
